# 마케팅 도구 모음 - 향후 구현 계획

> 작성일: 2026년  
> 프로젝트: 마케팅 성과 계산 도구

## 📋 목차

1. [현재 프로젝트 상태](#현재-프로젝트-상태)
2. [우선순위별 개선 사항](#우선순위별-개선-사항)
3. [상세 구현 계획](#상세-구현-계획)
4. [기술 스택 제안](#기술-스택-제안)

---

## 현재 프로젝트 상태

### ✅ 잘 구현된 부분

1. **7개의 마케팅 계산 도구 구현**
   - 광고 성과 계산 도구
   - 키워드 분석 도구
   - ROI 계산기
   - 손익분기점 계산기
   - 광고 예산 계산기
   - CRO 전환율 최적화 계산기
   - 마케팅 수익성 진단

2. **AI 기반 자동 추정 기능**
   - Google Gemini API 연동
   - 상품 정보 자동 추정
   - 종합 분석 기능

3. **데이터 시각화**
   - Recharts를 활용한 차트 구현
   - 막대 차트, 선 그래프, 원형 차트 등

4. **에러 처리 및 로깅**
   - API 에러 처리
   - 콘솔 로깅 구현

5. **반응형 디자인**
   - 다크 모드 지원
   - 모바일 대응

6. **문의하기 기능**
   - 이메일 전송 기능 (Nodemailer)

### ⚠️ 개선이 필요한 부분

1. 빈 디렉토리 존재
2. 데이터 저장/내보내기 기능 부재
3. 환경 변수 예시 파일 부재
4. 사용자 가이드 부족
5. 테스트 코드 부재
6. API 보안 강화 필요
7. 접근성 개선 필요

---

## 우선순위별 개선 사항

### 🔴 높은 우선순위 (즉시 구현 필요)

#### 1. 빈 디렉토리 정리
- **문제**: `ltv-cac-ratio`, `ltv-calculator`, `target-cpa` 디렉토리가 비어있음
- **해결 방안**:
  - 기능이 필요하지 않다면 디렉토리 삭제
  - 기능이 필요하다면 구현 또는 README 작성
- **예상 작업 시간**: 1-2시간

#### 2. 환경 변수 예시 파일 추가
- **파일**: `.env.example`
- **내용**:
  ```env
  # Google Gemini API
  GEMINI_API_KEY=your_gemini_api_key_here

  # SMTP 설정 (문의하기 기능용)
  SMTP_HOST=smtp.gmail.com
  SMTP_PORT=587
  SMTP_USER=your_email@gmail.com
  SMTP_PASS=your_app_password
  CONTACT_EMAIL=contact@example.com
  ```
- **예상 작업 시간**: 30분

#### 3. 계산 결과 로컬 스토리지 저장 기능
- **기능**:
  - 계산 결과를 브라우저 로컬 스토리지에 저장
  - 저장된 결과 조회 및 삭제
  - 여러 세션 관리
- **구현 위치**: 각 도구 페이지
- **예상 작업 시간**: 4-6시간

#### 4. CSV 내보내기 기능
- **기능**:
  - 계산 결과를 CSV 파일로 다운로드
  - 여러 상품/키워드 데이터 일괄 내보내기
- **라이브러리**: `papaparse` 또는 직접 구현
- **예상 작업 시간**: 3-4시간

---

### 🟡 중간 우선순위 (단기간 내 구현)

#### 5. 사용자 가이드 및 툴팁 추가
- **구현 내용**:
  - 각 입력 필드에 툴팁 추가
  - 각 도구 페이지에 사용법 가이드 섹션 추가
  - FAQ 페이지 생성
- **예상 작업 시간**: 6-8시간

#### 6. 모바일 네비게이션 개선
- **구현 내용**:
  - 햄버거 메뉴 추가
  - 모바일 전용 네비게이션 드로어
  - 터치 최적화
- **예상 작업 시간**: 4-6시간

#### 7. API Rate Limiting 추가
- **구현 내용**:
  - API 호출 횟수 제한
  - IP 기반 제한 또는 사용자별 제한
  - 에러 메시지 개선
- **라이브러리**: `@upstash/ratelimit` 또는 직접 구현
- **예상 작업 시간**: 3-4시간

#### 8. 공유 기능 (URL 파라미터)
- **기능**:
  - 계산 결과를 URL 파라미터로 저장
  - 공유 링크 생성
  - 링크로 접속 시 자동으로 데이터 로드
- **예상 작업 시간**: 4-5시간

---

### 🟢 낮은 우선순위 (장기 계획)

#### 9. 테스트 코드 작성
- **구현 내용**:
  - 단위 테스트 (Jest + React Testing Library)
  - 통합 테스트
  - E2E 테스트 (Playwright)
- **예상 작업 시간**: 20-30시간

#### 10. PDF 리포트 생성
- **기능**:
  - 계산 결과를 PDF로 다운로드
  - 차트 및 분석 결과 포함
- **라이브러리**: `jspdf`, `html2canvas` 또는 `react-pdf`
- **예상 작업 시간**: 6-8시간

#### 11. 다국어 지원
- **구현 내용**:
  - 한국어/영어 지원
  - i18n 라이브러리 도입
- **라이브러리**: `next-intl` 또는 `react-i18next`
- **예상 작업 시간**: 10-15시간

#### 12. 접근성 개선
- **구현 내용**:
  - 키보드 네비게이션 개선
  - 스크린 리더 지원 (ARIA 레이블)
  - 색상 대비 개선
- **예상 작업 시간**: 8-10시간

---

## 상세 구현 계획

### 1. 빈 디렉토리 정리

#### 작업 내용
```bash
# 옵션 1: 디렉토리 삭제 (기능 불필요 시)
rm -rf src/app/tools/ltv-cac-ratio
rm -rf src/app/tools/ltv-calculator
rm -rf src/app/tools/target-cpa

# 옵션 2: README 추가 (향후 구현 예정 시)
# 각 디렉토리에 README.md 파일 생성
```

#### 체크리스트
- [ ] 각 디렉토리의 필요성 검토
- [ ] 불필요한 디렉토리 삭제 또는 README 작성
- [ ] Header.tsx 및 page.tsx에서 링크 제거 (필요시)

---

### 2. 환경 변수 예시 파일

#### 파일 구조
```
.env.example
```

#### 내용
```env
# ============================================
# Google Gemini API 설정
# ============================================
# API 키 발급: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# ============================================
# SMTP 설정 (문의하기 기능용)
# ============================================
# Gmail 사용 시 앱 비밀번호 필요
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password_here
CONTACT_EMAIL=contact@example.com
```

---

### 3. 계산 결과 저장 기능

#### 구현 계획

**3.1 로컬 스토리지 유틸리티 생성**
```typescript
// src/utils/storage.ts
export interface SavedCalculation {
  id: string;
  toolName: string;
  data: any;
  createdAt: string;
  updatedAt: string;
}

export const saveCalculation = (toolName: string, data: any): string => {
  // 구현
};

export const getSavedCalculations = (toolName?: string): SavedCalculation[] => {
  // 구현
};

export const deleteCalculation = (id: string): void => {
  // 구현
};
```

**3.2 각 도구 페이지에 저장 기능 추가**
- 저장 버튼 추가
- 저장된 계산 목록 표시
- 불러오기 기능
- 삭제 기능

**3.3 저장된 계산 관리 페이지**
- `/tools/saved` 페이지 생성
- 모든 저장된 계산 조회
- 필터링 및 검색 기능

---

### 4. CSV 내보내기 기능

#### 구현 계획

**4.1 CSV 유틸리티 함수 생성**
```typescript
// src/utils/csv.ts
export const exportToCSV = (data: any[], filename: string): void => {
  // 구현
};
```

**4.2 각 도구에 내보내기 버튼 추가**
- 광고 성과 계산: 상품별 데이터
- 키워드 분석: 키워드별 데이터
- ROI 계산기: 계산 결과
- 기타 도구들

**4.3 내보내기 옵션**
- 전체 데이터 내보내기
- 선택한 항목만 내보내기
- 날짜 범위 선택

---

### 5. 사용자 가이드 및 툴팁

#### 구현 계획

**5.1 툴팁 컴포넌트 생성**
```typescript
// src/components/Tooltip.tsx
export const Tooltip = ({ text, children }: TooltipProps) => {
  // 구현
};
```

**5.2 각 입력 필드에 툴팁 추가**
- 각 필드의 의미 설명
- 계산 공식 안내
- 예시 값 제공

**5.3 사용법 가이드 섹션**
- 각 도구 페이지 하단에 가이드 추가
- 단계별 사용법
- 주의사항

**5.4 FAQ 페이지 생성**
- `/faq` 페이지 생성
- 자주 묻는 질문 정리
- 문제 해결 가이드

---

### 6. 모바일 네비게이션 개선

#### 구현 계획

**6.1 햄버거 메뉴 컴포넌트**
```typescript
// src/components/MobileMenu.tsx
export const MobileMenu = () => {
  // 구현
};
```

**6.2 반응형 네비게이션**
- 데스크톱: 가로 메뉴
- 모바일: 햄버거 메뉴 + 드로어

**6.3 터치 최적화**
- 버튼 크기 조정 (최소 44x44px)
- 터치 영역 확대
- 스와이프 제스처 지원

---

### 7. API Rate Limiting

#### 구현 계획

**7.1 Rate Limiting 미들웨어**
```typescript
// src/middleware/rateLimit.ts
export const rateLimit = async (req: NextRequest) => {
  // 구현
};
```

**7.2 제한 설정**
- AI API 호출: 분당 10회
- 일반 API 호출: 분당 60회
- IP 기반 제한

**7.3 에러 응답**
- 429 Too Many Requests
- 재시도 가능 시간 안내

---

### 8. 공유 기능 (URL 파라미터)

#### 구현 계획

**8.1 URL 인코딩/디코딩 유틸리티**
```typescript
// src/utils/share.ts
export const encodeDataToURL = (data: any): string => {
  // 구현
};

export const decodeDataFromURL = (encoded: string): any => {
  // 구현
};
```

**8.2 공유 버튼 추가**
- 각 계산 결과에 공유 버튼
- 링크 복사 기능
- QR 코드 생성 (선택)

**8.3 URL에서 데이터 로드**
- 페이지 로드 시 URL 파라미터 확인
- 데이터가 있으면 자동으로 로드
- 사용자에게 알림 표시

---

### 9. 테스트 코드 작성

#### 구현 계획

**9.1 테스트 환경 설정**
```json
// package.json에 추가
{
  "devDependencies": {
    "@testing-library/react": "^14.0.0",
    "@testing-library/jest-dom": "^6.1.0",
    "jest": "^29.7.0",
    "jest-environment-jsdom": "^29.7.0"
  }
}
```

**9.2 단위 테스트**
- 유틸리티 함수 테스트
- 계산 로직 테스트
- 컴포넌트 렌더링 테스트

**9.3 통합 테스트**
- API 엔드포인트 테스트
- 사용자 플로우 테스트

**9.4 E2E 테스트**
- Playwright 설정
- 주요 시나리오 테스트

---

### 10. PDF 리포트 생성

#### 구현 계획

**10.1 PDF 생성 라이브러리 선택**
- 옵션 1: `jspdf` + `html2canvas`
- 옵션 2: `react-pdf` (@react-pdf/renderer)

**10.2 리포트 템플릿 생성**
- 헤더 (로고, 제목, 날짜)
- 계산 결과 테이블
- 차트 이미지
- AI 분석 결과

**10.3 다운로드 기능**
- PDF 생성 버튼
- 파일명 자동 생성 (날짜 포함)

---

### 11. 다국어 지원

#### 구현 계획

**11.1 i18n 라이브러리 설정**
```typescript
// next-intl 사용 예시
import { NextIntlClientProvider } from 'next-intl';
```

**11.2 번역 파일 생성**
```
src/locales/
  ├── ko/
  │   └── messages.json
  └── en/
      └── messages.json
```

**11.3 언어 전환 기능**
- 언어 선택 드롭다운
- URL 기반 언어 감지
- 쿠키에 언어 설정 저장

---

### 12. 접근성 개선

#### 구현 계획

**12.1 ARIA 레이블 추가**
- 모든 버튼에 aria-label
- 폼 필드에 aria-describedby
- 차트에 aria-label

**12.2 키보드 네비게이션**
- Tab 순서 개선
- Enter/Space 키 지원
- Esc 키로 모달 닫기

**12.3 색상 대비 개선**
- WCAG AA 기준 준수
- 색상만으로 정보 전달하지 않기
- 포커스 표시 명확히

---

## 기술 스택 제안

### 추가 라이브러리

#### 데이터 처리
- `papaparse` - CSV 파싱 및 생성
- `date-fns` - 날짜 처리

#### UI/UX
- `react-hot-toast` - 토스트 알림
- `framer-motion` - 애니메이션
- `react-icons` - 아이콘

#### 테스트
- `@testing-library/react` - React 컴포넌트 테스트
- `@testing-library/jest-dom` - Jest DOM 매처
- `@playwright/test` - E2E 테스트

#### PDF 생성
- `jspdf` - PDF 생성
- `html2canvas` - HTML을 이미지로 변환
- 또는 `@react-pdf/renderer` - React 컴포넌트 기반 PDF

#### 다국어
- `next-intl` - Next.js i18n
- 또는 `react-i18next` - React i18n

#### Rate Limiting
- `@upstash/ratelimit` - Upstash 기반 Rate Limiting
- 또는 직접 구현 (Redis 사용)

---

## 구현 일정 제안

### Phase 1 (1-2주)
1. 빈 디렉토리 정리
2. 환경 변수 예시 파일 추가
3. 계산 결과 로컬 스토리지 저장
4. CSV 내보내기 기능

### Phase 2 (2-3주)
5. 사용자 가이드 및 툴팁
6. 모바일 네비게이션 개선
7. API Rate Limiting
8. 공유 기능

### Phase 3 (장기)
9. 테스트 코드 작성
10. PDF 리포트 생성
11. 다국어 지원
12. 접근성 개선

---

## 참고 사항

### 개발 시 주의사항
1. 모든 커밋 메시지는 한글로 작성
2. 핵심 기능에는 로그 추가
3. 에러 발생 시 사용자에게 명확한 메시지 제공
4. 모바일 환경 테스트 필수

### 성능 최적화
1. 이미지 최적화
2. 코드 스플리팅
3. API 응답 캐싱
4. 번들 크기 최적화

### 보안 고려사항
1. API 키는 서버 사이드에서만 사용
2. 사용자 입력 검증 및 sanitization
3. XSS 방지
4. CSRF 보호

---

## 업데이트 이력

- 2026년: 초기 문서 작성

---

## 문의 및 제안

프로젝트 개선 사항이나 추가 기능 제안이 있으시면 이슈를 등록해주세요.

