# 광고 성과 계산 페이지 개선사항 정리

## 📋 개요

광고 성과 계산 페이지(`/tools/ad-performance`)에 반응형 디자인과 다크모드/라이트모드 스타일을 개선하고, FarmToBiz 스타일을 참고하여 일관된 디자인을 적용했습니다.

---

## 📱 반응형 디자인 개선사항

### 1. 테이블 레이아웃 개선

#### 데스크탑 (1024px 이상)
- **기존**: 단일 테이블 뷰만 제공
- **개선**: 
  - 테이블 뷰 유지 (`hidden lg:block`)
  - 최소 너비 설정 (`min-w-[1000px]`)
  - 가로 스크롤 지원

#### 모바일/태블릿 (1024px 미만)
- **기존**: 작은 화면에서 테이블이 가로 스크롤만 제공
- **개선**: 
  - 카드 형태 레이아웃으로 전환 (`lg:hidden`)
  - 각 상품이 독립적인 카드로 표시
  - 입력 필드를 2열 그리드로 배치 (`grid grid-cols-2`)
  - 계산 결과를 카드 하단에 표시

```tsx
// 모바일 카드 뷰 예시
<div className="lg:hidden space-y-4">
  <div className="bg-white dark:bg-gray-800 rounded-xl p-4 border">
    {/* 상품 정보 입력 필드 */}
    {/* 계산 결과 표시 */}
  </div>
</div>
```

### 2. 입력 필드 반응형 개선

#### 터치 영역 확대
- **모바일**: `py-2.5` (10px) - 최소 44x44px 터치 영역 확보
- **데스크탑**: `py-1` (4px) - 컴팩트한 디자인

#### 포커스 링 개선
- **모바일**: `focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500`
- **데스크탑**: 동일한 포커스 스타일 적용

### 3. 버튼 그룹 반응형 개선

#### 레이아웃 변경
- **모바일**: 
  - 세로 배치 (`flex-col`)
  - 전체 너비 (`w-full`)
  - 텍스트 크기: `text-sm`
  
- **태블릿 이상**: 
  - 가로 배치 (`sm:flex-row`)
  - 자동 너비 (`sm:w-auto`)
  - 텍스트 크기: `sm:text-base`

```tsx
<div className="flex flex-col sm:flex-row gap-3">
  <button className="w-full sm:w-auto text-sm sm:text-base">
    행 추가
  </button>
</div>
```

### 4. 차트 반응형 개선

#### 동적 높이 조정
- **모바일 (640px 미만)**: `200px`
- **태블릿 (640px ~ 1024px)**: `250px`
- **데스크탑 (1024px 이상)**: `300px`

#### 폰트 크기 조정
- **모바일**: `10px`
- **태블릿**: `11px`
- **데스크탑**: `12px`

#### X축 레이블 회전
- **모바일**: `-45도` 회전, 높이 `60px`
- **데스크탑**: `0도`, 높이 `30px`

```tsx
const [chartHeight, setChartHeight] = useState(300);
const [chartFontSize, setChartFontSize] = useState(12);
const [isMobile, setIsMobile] = useState(false);

useEffect(() => {
  const updateChartSize = () => {
    const width = window.innerWidth;
    if (width < 640) {
      setChartHeight(200);
      setChartFontSize(10);
      setIsMobile(true);
    } else if (width < 1024) {
      setChartHeight(250);
      setChartFontSize(11);
      setIsMobile(false);
    } else {
      setChartHeight(300);
      setChartFontSize(12);
      setIsMobile(false);
    }
  };
  // ...
}, []);
```

### 5. 그리드 레이아웃 반응형 개선

#### 결과 해석 섹션
- **모바일**: `grid-cols-1` (1열)
- **태블릿 이상**: `sm:grid-cols-2` (2열)

#### AI 분석 결과 테이블
- **모바일**: 가로 스크롤 지원 (`overflow-x-auto`)
- **최소 너비**: `min-w-[500px]`
- **패딩**: `p-2 sm:p-3` (반응형)

### 6. 텍스트 크기 반응형 개선

#### 제목
- **모바일**: `text-2xl` (24px)
- **태블릿**: `sm:text-3xl` (30px)
- **데스크탑**: `lg:text-4xl` (36px)

#### 본문
- **모바일**: `text-sm` (14px)
- **태블릿 이상**: `sm:text-base` (16px)

#### 테이블
- **모바일**: `text-xs` (12px)
- **태블릿 이상**: `sm:text-sm` (14px)

---

## 🌓 다크모드/라이트모드 개선사항

### 1. 페이지 배경

#### 라이트모드
```tsx
className="bg-gray-50"
```

#### 다크모드
```tsx
className="dark:bg-gray-900"
```

### 2. 카드/컨테이너

#### 라이트모드
```tsx
className="bg-white border border-gray-100 shadow-sm"
```

#### 다크모드
```tsx
className="dark:bg-gray-800 dark:border-gray-700 dark:shadow-gray-900/30"
```

### 3. 텍스트 색상

#### 제목/본문
- **라이트모드**: `text-gray-900`
- **다크모드**: `dark:text-gray-100`

#### 보조 텍스트
- **라이트모드**: `text-gray-600`
- **다크모드**: `dark:text-gray-400`

#### 라벨
- **라이트모드**: `text-gray-700`
- **다크모드**: `dark:text-gray-300`

### 4. 입력 필드

#### 배경
- **라이트모드**: `bg-gray-50`
- **다크모드**: `dark:bg-gray-800`

#### 테두리
- **라이트모드**: `border-gray-200`
- **다크모드**: `dark:border-gray-600`

#### 포커스
- **라이트모드**: `focus:ring-emerald-500 focus:border-emerald-500`
- **다크모드**: 동일한 포커스 스타일 적용

```tsx
<input
  className="
    bg-gray-50 dark:bg-gray-800
    border border-gray-200 dark:border-gray-600
    focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500
    text-gray-900 dark:text-gray-100
  "
/>
```

### 5. 버튼

#### Primary 버튼 (에메랄드 그린)
- **라이트모드**: `bg-emerald-500 hover:bg-emerald-600`
- **다크모드**: `dark:bg-emerald-600 dark:hover:bg-emerald-500`

#### Secondary 버튼
- **라이트모드**: `bg-gray-100 hover:bg-gray-200 border border-gray-200`
- **다크모드**: `dark:bg-gray-700 dark:hover:bg-gray-600 dark:border-gray-600`

#### Danger 버튼
- **라이트모드**: `bg-red-500 hover:bg-red-600`
- **다크모드**: `dark:bg-red-600 dark:hover:bg-red-500`

### 6. 테이블

#### 헤더
- **라이트모드**: `text-gray-900 border-gray-300`
- **다크모드**: `dark:text-gray-100 dark:border-gray-700`

#### 행
- **라이트모드**: `border-gray-200 hover:bg-gray-50`
- **다크모드**: `dark:border-gray-800 dark:hover:bg-gray-800/50`

#### 최고 상품 강조
- **라이트모드**: `bg-yellow-100 border-yellow-400`
- **다크모드**: `dark:bg-yellow-900/30 dark:border-yellow-600`

### 7. 경고 박스

#### 최고 순이익 알림
- **라이트모드**: 
  - 배경: `bg-amber-50`
  - 테두리: `border-amber-200`
  - 텍스트: `text-amber-900`
  
- **다크모드**: 
  - 배경: `dark:bg-amber-900/20`
  - 테두리: `dark:border-amber-800`
  - 텍스트: `dark:text-amber-200`

### 8. 결과 해석 섹션

#### 컨테이너
- **라이트모드**: `bg-white border-gray-100`
- **다크모드**: `dark:bg-gray-800 dark:border-gray-700`

#### 내부 카드
- **라이트모드**: `bg-gray-50 border-gray-200`
- **다크모드**: `dark:bg-gray-700/50 dark:border-gray-600`

### 9. 차트 다크모드 지원

#### Tooltip
- **라이트모드**: 
  - 배경: `rgba(255, 255, 255, 0.95)`
  - 테두리: `#ccc`
  - 텍스트: `#111827`
  
- **다크모드**: 
  - 배경: `rgba(31, 41, 55, 0.95)` (gray-800)
  - 테두리: `#4b5563` (gray-600)
  - 텍스트: `#f3f4f6` (gray-100)

#### Legend
- **라이트모드**: `#111827` (gray-900)
- **다크모드**: `#f3f4f6` (gray-100)

```tsx
const [isDarkMode, setIsDarkMode] = useState(false);

useEffect(() => {
  const checkDarkMode = () => {
    setIsDarkMode(document.documentElement.classList.contains('dark'));
  };
  
  const observer = new MutationObserver(checkDarkMode);
  observer.observe(document.documentElement, {
    attributes: true,
    attributeFilter: ['class'],
  });
  
  return () => observer.disconnect();
}, []);

<Tooltip 
  contentStyle={{ 
    backgroundColor: isDarkMode ? 'rgba(31, 41, 55, 0.95)' : 'rgba(255, 255, 255, 0.95)',
    border: isDarkMode ? '1px solid #4b5563' : '1px solid #ccc',
    color: isDarkMode ? '#f3f4f6' : '#111827'
  }}
/>
```

### 10. 그림자 효과

#### 라이트모드
- **카드**: `shadow-sm`
- **버튼**: `shadow-sm hover:shadow`

#### 다크모드
- **카드**: `dark:shadow-gray-900/30`
- **버튼**: 동일한 그림자 적용

---

## 🎨 FarmToBiz 스타일 적용사항

### 1. 색상 시스템

#### 배경색
- **페이지**: `bg-gray-50` (FarmToBiz와 동일한 밝은 회색)
- **카드**: `bg-white` (순수 흰색)

#### Primary 색상
- **에메랄드 그린**: `bg-emerald-500` 유지
- **호버**: `hover:bg-emerald-600`

### 2. 그림자 시스템

#### 변경사항
- **기존**: `shadow-md` (중간 그림자)
- **개선**: `shadow-sm` (미묘한 그림자)
- **다크모드**: `dark:shadow-gray-900/30` (더 부드러운 그림자)

### 3. 테두리 시스템

#### 추가사항
- **카드**: `border border-gray-100` 추가
- **입력 필드**: `border-gray-200` (더 부드러운 테두리)
- **버튼**: Secondary 버튼에 테두리 추가

### 4. 모서리 반경

#### 통일
- **카드**: `rounded-2xl` 유지
- **입력 필드**: `rounded-lg` (FarmToBiz 스타일)
- **버튼**: `rounded-lg` (FarmToBiz 스타일)

### 5. 입력 필드 스타일

#### 배경색 변경
- **기존**: `bg-white`
- **개선**: `bg-gray-50` (FarmToBiz 스타일)

#### 포커스 효과
- **링**: `focus:ring-2 focus:ring-emerald-500`
- **테두리**: `focus:border-emerald-500`

---

## 📊 브레이크포인트 정리

### 모바일 (320px ~ 639px)
- 테이블 → 카드 레이아웃
- 버튼 전체 너비
- 차트 높이: 200px
- 폰트 크기: 작게 조정
- 1열 그리드

### 태블릿 (640px ~ 1023px)
- 카드 레이아웃 유지
- 버튼 자동 너비
- 차트 높이: 250px
- 폰트 크기: 중간
- 2열 그리드

### 노트북 (1024px ~ 1279px)
- 테이블 레이아웃
- 차트 높이: 300px
- 폰트 크기: 기본
- 2열 그리드

### 데스크탑 (1280px 이상)
- 테이블 레이아웃
- 차트 높이: 300px
- 폰트 크기: 기본
- 최대 너비: `max-w-7xl`

---

## ✅ 개선 체크리스트

### 반응형 디자인
- [x] 모바일 (320px+) 레이아웃 구현
- [x] 태블릿 (640px+) 레이아웃 구현
- [x] 노트북 (1024px+) 레이아웃 구현
- [x] 데스크탑 (1280px+) 레이아웃 구현
- [x] 모든 화면 크기에서 테스트 완료
- [x] 터치 영역 최소 44x44px 확보
- [x] 차트 반응형 높이 조정
- [x] 텍스트 크기 반응형 조정

### 다크모드
- [x] 라이트모드 스타일 구현
- [x] 다크모드 스타일 구현 (`dark:` 접두사 사용)
- [x] 모든 배경색에 다크모드 변형
- [x] 모든 텍스트 색상에 다크모드 변형
- [x] 모든 테두리에 다크모드 변형
- [x] 모든 그림자에 다크모드 변형
- [x] 입력 필드 다크모드 지원
- [x] 버튼 다크모드 지원
- [x] 차트 Tooltip 다크모드 지원
- [x] 차트 Legend 다크모드 지원
- [x] 다크모드에서 색상 대비 확인

### FarmToBiz 스타일
- [x] 페이지 배경색 적용
- [x] 카드/컨테이너 스타일 적용
- [x] 입력 필드 스타일 적용
- [x] 버튼 스타일 적용
- [x] 경고 박스 스타일 적용
- [x] 그림자 효과 조정

---

## 🎯 주요 개선 효과

### 사용자 경험
1. **모바일 사용성 향상**: 카드 레이아웃으로 정보 접근성 개선
2. **터치 친화적**: 충분한 터치 영역 확보
3. **가독성 향상**: 화면 크기별 최적화된 텍스트 크기
4. **시각적 일관성**: FarmToBiz와 유사한 디자인 언어

### 기술적 개선
1. **동적 차트 크기**: 화면 크기에 따른 자동 조정
2. **실시간 다크모드 감지**: MutationObserver 활용
3. **반응형 그리드**: 화면 크기별 최적 레이아웃
4. **성능 최적화**: 조건부 렌더링으로 불필요한 요소 제거

---

## 📝 참고사항

### 유지보수
- 차트 높이와 폰트 크기는 `useEffect`에서 동적으로 관리
- 다크모드 감지는 `MutationObserver`로 실시간 처리
- 반응형 브레이크포인트는 Tailwind CSS 기본값 사용

### 확장 가능성
- 새로운 화면 크기 추가 시 `useEffect`의 `updateChartSize` 함수 수정
- 새로운 다크모드 요소 추가 시 `dark:` 접두사 사용
- FarmToBiz 스타일 변경 시 색상 토큰만 수정하면 전체 적용

---

**작성일**: 2026-01-15  
**최종 수정일**: 2026-01-15  
**관련 파일**: `src/app/tools/ad-performance/page.tsx`

